<h1>Lista productos</h1>
<table class="table">
    <thead>
        <tr>
            <th>Imagen</th>
            <th>Nombre</th>
            <th>Tipo</th>
            <th>Precio</th>
            <th>Stock</th>
            <th>Comprar</th>
        </tr>
    </thead>
    <tbody>
        @for (product of products; track product.id) {
            <tr [ngClass]="{'promo': product.promo}">
            <td><img class="img-thumbnail" [src]="product.image" [alt]="product.name"></td>
            <td>{{product.name}}</td>
            <td>{{product.type}}</td>
            <td>{{product.price | currency}}</td>
            @if (product.stock > 0){
                <td>{{product.stock}}</td>
            } @else {
                <td class="badge bg-warning text-dark">SIN STOCK</td>
            }
            <td>
                <button class="btn btn-danger btn-sm" (click)="downQuantity(product)">-</button>
                <input 
                    type="text" 
                    [value]="product.quantity" 
                    (input)="onChangeQuantity($event, product)"
                    >
                <button class="btn btn-success btn-sm" (click)="upQuantity(product)">+</button></td>
            </tr>
        } @empty {
            <tr>
                <td colspan="4"> No hay productos para mostrar</td>
            </tr>
        }
        
    </tbody>
</table>